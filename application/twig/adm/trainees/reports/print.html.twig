{% extends 'adm/layout.html.twig' %}

{% block content %}

<div class="content-wrapper" id="vue-master">

	<section class="content-header">
		<div class="container-fluid">
			<div class="row mb-2">
				<div class="col-sm-6">
					<h4>{{ content_title }}</h4>
				</div>
				<div class="col-sm-6">
					<ol class="breadcrumb float-sm-right">
						<li class="breadcrumb-item">Home</li>
						<li class="breadcrumb-item">Master</li>
						<li class="breadcrumb-item"><a href="#">Peserta</a></li>
					</ol>
				</div>
			</div>
		</div>
	</section>

	<!-- Main content -->
	<section class="content">
		<div class="container-fluid">
			<div class="row">

				<div class="col-md-12">

					<div class="card card-default">
						<div class="card-body">
							<a class="btn btn-success float-right" style="width: 15%;"
								href="{{ site_url('adm/trainees/export_excel') }}">
								<i class="far fa-file-excel"></i> Export Excel
							</a>
							<button id="buttonPrint" class="btn btn-info float-right" style="width: 15%; margin-right: .5%;">
								<i class="fa fa-print"></i> Print
							</button>
						</div>
					</div>

				</div>

				<div class="col-md-12" id="masterContent">

					<style type="text/css">
						@media print {
							@page {
								size: a4 landscape;
							}
						}

						.font-size {
							font-size: 11px;
						}

						.table-prints tr td {
						padding: 3px !important;
						}

						.table-prints thead tr {
						/* background-color: #CCC !important; */
						-webkit-print-color-adjust: exact;
						}

						.table-prints-border tr td {
						border: 1px solid #000 !important;
						}

						.wrap-header {
						}

						.wrap-footer {
						page-break-inside: avoid;
						margin-top: 10px;
						}
					</style>

					<div class="card card-default">
						<div class="card-body">
							
							<div class="wrap-header">
								<div class="form-horizontal col-md-12">
									<div class="form-group" style="margin-right:2px;">
										<img src="{{ base_url('assets/images/logo/loop-logo-blue-ic.png') }}"
											style="width: 10%; float:left; margin-right:3%;">
										<address>
											<strong style="font-family: Times New Roman, Times, serif; font-size:20px;">
												PT. LINKAR INDONESIA CENDEKIA
											</strong><br>
											<p style="font-family: Arial, Helvetica, sans-serif; font-size:11px; font-weight:600;">Gading
												Loop Learning Space - Wirausaha Building, 7th Fl.</span><br>
												Jl. HR Rasuna Said Kav C5 Jakarta Selatan 12940<br>
												<abbr>Telp:</abbr> (021) 84311988/9, Email : info@loop-indonesia.com</p>
										</address>
										<hr>
									</div>
								</div>
							</div>

							<h2 align="center" style="margin:5% 0 2.5% 0;">KELULUSAN</h2>

							<table class="table table-striped table-bordered font-size table-prints" width="100%">
								<thead>
									<tr>
										<th class="fit-width text-center">
											No
										</th>
										<!-- <th class="fit-width text-center">
											NIP
										</th> -->
										<th class="fit-width text-center">
											Nama Peserta
										</th>
										<!-- <th class="fit-width text-center">
											Nama Panggilan
										</th> -->
										<th class="fit-width text-center">
											Tempat, Tanggal Lahir
										</th>
										<th class="fit-width text-center">
											Jenis Kelamin
										</th>
										<!-- <th class="fit-width text-center">
											Email
										</th> -->
										<th class="fit-width text-center">
											Telepon
										</th>
										<th class="fit-width text-center">
											Jabatan
										</th>
										<th class="fit-width text-center">
											Perusahaan
										</th>
										<th class="fit-width text-center">
											Alamat
										</th>
									</tr>
								</thead>
								<tbody>
									{% if report_data %}
									{% for row in report_data %}
									<tr>
										<td class="fit-width">
											{% set no = no + 1 %}
											{{ no }}
										</td>
										<!-- <td class="fit-width">
											{{ row.trainee_code }}
										</td> -->
										<td class="fit-width">
											{{ row.trainee_name }}
										</td>
										<!-- <td class="fit-width">
											{{ row.trainee_nickname }}
										</td> -->
										<td class="fit-width">
											{{ row.trainee_placeofbirth }}, {{ indonesian_date(row.trainee_dateofbirth)}}
										</td>
										<td class="fit-width">
											{{ row.gender_name }}
										</td>
										<!-- <td class="fit-width">
											{{ row.trainee_email }}
										</td> -->
										<td class="fit-width">
											{{ row.trainee_telephone }}
										</td>
										<td class="fit-width">
											{{ row.job_title_name }}
										</td>
										<td class="fit-width">
											{{ row.company_name }}
										</td>
										<td class="fit-width">
											{{ row.trainee_address }}
										</td>
									</tr>
									{% endfor %}
									{% endif %}
								</tbody>
							</table>
				
						</div>
					</div>

				</div>
				
			</div>
			<!-- /.row -->
		</div><!-- /.container-fluid -->
	</section>
	<!-- /.content -->

</div>

<div class="modal fade master-modal" id="modal-default">
	<div class="modal-dialog modal-lg">
		<div class="modal-content master-modal-content">
			Loading...
		</div>
	</div>
</div>

{% endblock  %}

{% block add_javascript %}
{{ parent() }}


<script type="text/javascript">
	$('[data-widget="pushmenu"]').PushMenu('toggle');

	jQuery(function($) {

    // Function available at https://gist.github.com/sixlive/55b9630cc105676f842c

    $.fn.printDiv = function() {
      var printContents = $(this).html();
      var originalContents = $('body').html();
      $('body').html(printContents);
      $('body').addClass('js-print');
      window.print();
      $('body').html(originalContents);
      $('body').removeClass('js-print');
    };

    // Print
    $('#buttonPrint').click(function() {
      $('#masterContent').printDiv();
      setTimeout(function(){
        window.close()
        location.reload();
      },10);
    });

  });
</script>
{% endblock  %}